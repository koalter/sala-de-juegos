<button type="button" routerLink="" class="btn btn-info m-2">&LessLess; Volver</button>
<button type="button" (click)="instrucciones = true" class="btn btn-secondary m-2">Instrucciones</button>
<div class="container">
    <ng-container *ngIf="pregunta; then juego; else categorias"></ng-container>
    <ng-template #categorias>
        <div class="text-center justify-content-evenly mb-3">
            <button (click)="generarPregunta('ciencia')" class="m-2 p-5 btn btn-info">Ciencia</button>
            <button (click)="generarPregunta('historia')" class="m-2 p-5 btn btn-warning">Historia</button>
            <button (click)="generarPregunta('deportes')" class="m-2 p-5 btn btn-success">Deportes</button>
        </div>
    </ng-template>

    <ng-template #juego>
        <div class="card border-light m-auto col-lg-5">
            <h3 class="card-header text-capitalize">{{ pregunta["categoria"] }}</h3>
            <img [src]="imagenPregunta" class="card-img-top">
            <div class="card-body">
                <p class="card-text">{{ pregunta["pregunta"] }}</p>
                <button class="col-12 my-1 btn btn-primary">{{ pregunta["respuestas"][0]["texto"] }}</button>
                <button class="col-12 my-1 btn btn-info">{{ pregunta["respuestas"][1]["texto"] }}</button>
                <button class="col-12 my-1 btn btn-secondary">{{ pregunta["respuestas"][2]["texto"] }}</button>
                <button class="col-12 my-1 btn btn-warning">{{ pregunta["respuestas"][3]["texto"] }}</button>
            </div>
        </div>
    </ng-template>
</div>

<pantalla-victoria [flag]="ganaste" (reintentar)="ngOnInit()"></pantalla-victoria>
<pantalla-derrota [flag]="perdiste" (reintentar)="ngOnInit()"></pantalla-derrota>

<div *ngIf="instrucciones" style="backdrop-filter: brightness(0.4);" class="h-100 w-100 position-absolute top-0 start-0 d-flex justify-content-center align-items-center text-center">
    <div class="bg-primary px-4 pt-4 rounded-4 col-md-6">
        <h2 class="py-2">Instrucciones del Consultados</h2>
        <div class="text-start">
            <p class="text-white">El juego se compone de tres rondas.</p>
            <p class="text-white">Elegí entre tres categorías para iniciar la ronda.</p>
            <p class="text-white">Por cada ronda, te haremos una pregunta con cuatro opciones como respuesta.</p>
            <p class="text-white">Ganarás el juego si respondés bien las tres preguntas.</p>
            <p class="text-white">Cuando gustes, presioná el botón de Jugar.</p>
        </div>
        <button class="btn btn-info m-2" (click)="instrucciones = false">Jugar</button>
    </div>
</div>

<app-spinner [condicion]="cargarSpinner"></app-spinner>